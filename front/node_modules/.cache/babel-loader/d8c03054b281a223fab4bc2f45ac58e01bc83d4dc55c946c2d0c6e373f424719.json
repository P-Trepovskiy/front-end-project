{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport { Context } from \"../index\";\nimport { check } from \"../http/userApi\";\nconst CheckAuth = () => {\n  _s();\n  const {\n    user\n  } = useContext(Context);\n  useEffect(() => {\n    check().then(data => {\n      user.setUser(data);\n      user.setIsAuth(true);\n      user.setRole(data.role);\n      console.log(user);\n    }).catch(e => {\n      user.setIsAuth(false);\n    });\n  }, []);\n  return null;\n};\n_s(CheckAuth, \"JbBhDNbQxaOSU9sVqxopHRzBnnw=\");\n_c = CheckAuth;\nexport default CheckAuth;\nvar _c;\n$RefreshReg$(_c, \"CheckAuth\");","map":{"version":3,"names":["React","useContext","useEffect","useState","BrowserRouter","Router","Route","Routes","Navigate","useNavigate","Context","check","CheckAuth","_s","user","then","data","setUser","setIsAuth","setRole","role","console","log","catch","e","_c","$RefreshReg$"],"sources":["C:/Users/Паша/Desktop/front-end-project/front/src/components/CheckAuth.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport {Context} from \"../index\";\nimport {check} from \"../http/userApi\";\n\nconst CheckAuth = () => {\n    const {user} = useContext(Context)\n\n    useEffect(() => {\n        check()\n        .then(data => {\n            user.setUser(data)\n            user.setIsAuth(true)\n            user.setRole(data.role)\n            console.log(user);\n        })\n        .catch((e) => {\n            user.setIsAuth(false)\n        })\n    }, [])\n  \n    return null;\n};\n\nexport default CheckAuth;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAC5D,SAASC,aAAa,IAAIC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAChG,SAAQC,OAAO,QAAO,UAAU;AAChC,SAAQC,KAAK,QAAO,iBAAiB;AAErC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM;IAACC;EAAI,CAAC,GAAGb,UAAU,CAACS,OAAO,CAAC;EAElCR,SAAS,CAAC,MAAM;IACZS,KAAK,CAAC,CAAC,CACNI,IAAI,CAACC,IAAI,IAAI;MACVF,IAAI,CAACG,OAAO,CAACD,IAAI,CAAC;MAClBF,IAAI,CAACI,SAAS,CAAC,IAAI,CAAC;MACpBJ,IAAI,CAACK,OAAO,CAACH,IAAI,CAACI,IAAI,CAAC;MACvBC,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC;IACrB,CAAC,CAAC,CACDS,KAAK,CAAEC,CAAC,IAAK;MACVV,IAAI,CAACI,SAAS,CAAC,KAAK,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,IAAI;AACf,CAAC;AAACL,EAAA,CAjBID,SAAS;AAAAa,EAAA,GAATb,SAAS;AAmBf,eAAeA,SAAS;AAAC,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}