{"ast":null,"code":"import { $authHost, $host } from \"./index\";\nimport { jwtDecode } from \"jwt-decode\";\nexport const registration = async (email, password) => {\n  try {\n    const {\n      data\n    } = await $host.post('api/user/registration', {\n      email: email,\n      password: password\n    });\n    console.log(data);\n    if (data && data.token) {\n      localStorage.setItem('token', data.token);\n      return jwtDecode(data.token);\n    }\n  } catch (e) {\n    console.log(e);\n    if (e.response && e.response.data && e.response.data.localeKey) {\n      alert(e.response.data.localeKey);\n    } else {\n      return '';\n    }\n  }\n};\nexport const login = async (email, password) => {\n  const {\n    data\n  } = await $host.post('api/user/login', {\n    email,\n    password\n  });\n  localStorage.setItem('token', data.token);\n  return jwtDecode(data.token);\n};\nexport const check = async () => {\n  const {\n    data\n  } = await $authHost.get('api/user/auth');\n  console.log(data);\n  localStorage.setItem('token', data.token);\n  return jwtDecode(data.token);\n};","map":{"version":3,"names":["$authHost","$host","jwtDecode","registration","email","password","data","post","console","log","token","localStorage","setItem","e","response","localeKey","alert","login","check","get"],"sources":["C:/Users/Паша/Desktop/front-end-project/front/src/http/userApi.js"],"sourcesContent":["import {$authHost, $host} from \"./index\";\nimport { jwtDecode } from \"jwt-decode\";\n\nexport const registration = async (email, password) => {\n    try {\n        const {data} = await $host.post('api/user/registration', {email: email, password: password})\n        console.log(data);\n        if (data && data.token) {\n            localStorage.setItem('token', data.token)\n            return jwtDecode(data.token)\n        }\n    }\n    catch(e) {\n        \n        console.log(e);\n        if (e.response && e.response.data && e.response.data.localeKey) {\n            alert(e.response.data.localeKey)\n        }\n        else {\n            return ''\n        }\n    }\n}\n\nexport const login = async (email, password) => {\n    const {data} = await $host.post('api/user/login', {email, password})\n    localStorage.setItem('token', data.token)\n    return jwtDecode(data.token)\n}\n\nexport const check = async () => {\n    const {data} = await $authHost.get('api/user/auth' )\n    console.log(data);\n    localStorage.setItem('token', data.token)\n    return jwtDecode(data.token)\n}"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,KAAK,QAAO,SAAS;AACxC,SAASC,SAAS,QAAQ,YAAY;AAEtC,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EACnD,IAAI;IACA,MAAM;MAACC;IAAI,CAAC,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,uBAAuB,EAAE;MAACH,KAAK,EAAEA,KAAK;MAAEC,QAAQ,EAAEA;IAAQ,CAAC,CAAC;IAC5FG,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjB,IAAIA,IAAI,IAAIA,IAAI,CAACI,KAAK,EAAE;MACpBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACI,KAAK,CAAC;MACzC,OAAOR,SAAS,CAACI,IAAI,CAACI,KAAK,CAAC;IAChC;EACJ,CAAC,CACD,OAAMG,CAAC,EAAE;IAELL,OAAO,CAACC,GAAG,CAACI,CAAC,CAAC;IACd,IAAIA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACC,QAAQ,CAACR,IAAI,IAAIO,CAAC,CAACC,QAAQ,CAACR,IAAI,CAACS,SAAS,EAAE;MAC5DC,KAAK,CAACH,CAAC,CAACC,QAAQ,CAACR,IAAI,CAACS,SAAS,CAAC;IACpC,CAAC,MACI;MACD,OAAO,EAAE;IACb;EACJ;AACJ,CAAC;AAED,OAAO,MAAME,KAAK,GAAG,MAAAA,CAAOb,KAAK,EAAEC,QAAQ,KAAK;EAC5C,MAAM;IAACC;EAAI,CAAC,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,gBAAgB,EAAE;IAACH,KAAK;IAAEC;EAAQ,CAAC,CAAC;EACpEM,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACI,KAAK,CAAC;EACzC,OAAOR,SAAS,CAACI,IAAI,CAACI,KAAK,CAAC;AAChC,CAAC;AAED,OAAO,MAAMQ,KAAK,GAAG,MAAAA,CAAA,KAAY;EAC7B,MAAM;IAACZ;EAAI,CAAC,GAAG,MAAMN,SAAS,CAACmB,GAAG,CAAC,eAAgB,CAAC;EACpDX,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjBK,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACI,KAAK,CAAC;EACzC,OAAOR,SAAS,CAACI,IAAI,CAACI,KAAK,CAAC;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}